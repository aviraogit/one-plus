(window.webpackJsonp=window.webpackJsonp||[]).push([["product2077/subscribeUnavailable"],{"8NKI":function(e,t,i){"use strict";i.r(t);var n=i("uEq5"),a=i("SSTF");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("yI/+");var s=i("psIG"),o=Object(s.a)(a.default,n.a,n.b,!1,null,null,null);t.default=o.exports},"OFp/":function(e,t,i){i("fp7Y");var n=i("fu9z"),a=i("czhI");a.defaults.withCredentials=!0;var r={};try{r=document.getElementById("data-translation")&&JSON.parse(document.getElementById("data-translation").innerHTML)||{}}catch(e){console.error(e)}var s=document.querySelector("#mall-api-url")?document.querySelector("#mall-api-url").value:"https://mallapi.oneplus.in/v2/api/router";e.exports={props:{idPrefix:{type:String,required:!0,default:"form-subscribe-unavailable"},action:{required:!0,type:String,default:"/xman/stock/registry"},store:{type:String,default:n.site.store},sku:{type:String,required:!0},title:{type:String,required:!0},hint:{type:String,default:"Please ensure the email follows this format: name@example.com"}},data:function(){return{email:"",block:5e3,t9n:r}},methods:{subscribeUnavailable:function(){var e=this;if(this.email||(e.$refs.email.valid=!1),!e.$refs.email.valid)return e.block=!1,void e.$nextTick((function(){e.block=5e3}));if(window.isXmanOff){var t={method:"mall.stock.lack.registry",biz_content:{storeViewCode:n.site.store,sku:this.sku,email:this.email,store:n.site.store}};a.post(n.methods.apiDomainFactory(s),t,{headers:{"content-type":"application/json"}}).then((function(e){1===Number(e.data.ret)?n.bus.$emit("show-err-msg","Thanks, we’ll be in touch!"):n.bus.$emit("show-err-msg",e.data.errMsg)})).then((function(){e.block=!1,e.$nextTick((function(){e.block=5e3}))})).catch((function(e){n.bus.$emit("hide-subscribe-unavailable-product"),console.error(e)}))}else{var i="store="+this.store+"&sku="+this.sku+"&email="+this.email;a.post(n.methods.apiDomainFactory(this.action),i,{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){1===e.data.ret&&0===e.data.errCode?n.bus.$emit("show-err-msg","Thanks, we’ll be in touch!"):n.bus.$emit("show-err-msg",e.data.errMsg)})).then((function(){e.block=!1,e.$nextTick((function(){e.block=5e3}))})).catch((function(e){n.bus.$emit("hide-subscribe-unavailable-product"),console.error(e)}))}},verifyEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},components:{"one-text":i("txJ/").default,"one-button":i("rGkJ").default}}},SSTF:function(e,t,i){"use strict";i.r(t);var n=i("OFp/"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t.default=a.a},YegC:function(e,t,i){},uEq5:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"form-subscribe-unavailable",attrs:{"accept-charset":"UTF-8",action:e.action,method:"post",role:"form"},on:{submit:function(t){return t.preventDefault(),e.subscribeUnavailable(t)}}},[i("legend",{staticClass:"legend-clean h4 text-black text-left"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),i("div",{staticClass:"margin-8x frozen"}),e._v(" "),i("div",{staticClass:"fieldset-clean fieldset-box"},[i("input",{attrs:{id:e.idPrefix+"-sku",type:"hidden",name:"sku"},domProps:{value:e.sku}}),e._v(" "),i("input",{attrs:{id:e.idPrefix+"-store",type:"hidden",name:"store"},domProps:{value:e.store}}),e._v(" "),i("div",{staticClass:"email-field"},[i("one-text",{ref:"email",attrs:{id:e.idPrefix+"-email",placeholder:e.t9n.enterEmail,hint:e.hint,test:"email",type:"email",autofocus:"autofocus",name:"email",required:"",isolated:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),i("one-button",{staticClass:"btn-signup padding-3em",attrs:{block:e.block,type:"submit"},on:{click:e.subscribeUnavailable}},[e._v("\n      "+e._s(e.t9n.recoms&&e.t9n.recoms.submit)+"\n    ")])],1)])},a=[];i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}))},"yI/+":function(e,t,i){"use strict";var n=i("YegC");i.n(n).a}}]);