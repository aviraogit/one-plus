(window.webpackJsonp=window.webpackJsonp||[]).push([["product2077/benefits"],{A7aG:function(e,t,n){},JAcJ:function(e,t,n){"use strict";var i=n("Mvmy");n.n(i).a},Mvmy:function(e,t,n){},f3R3:function(e,t,n){"use strict";n("hi3g"),n("Xlt+"),n("D/wG");var i=n("OvAC"),s=n.n(i),c={name:"OeCheckbox",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},shape:{type:String,default:"square"},colorType:{type:String,default:"black"},outline:{type:Boolean,default:!0},label:{type:String,default:""},isPreventDefault:{type:Boolean,default:!1}},data:function(){return{name:"one-checkbox",parent:{},checkedList:[],isGroup:!1,currentValue:this.value}},computed:{classType:function(){var e;return e={},s()(e,"".concat(this.name,"--").concat(this.currentSize),!0),s()(e,"".concat(this.name,"--").concat(this.currentColor),!0),s()(e,"".concat(this.name,"--").concat(this.currentShape),!0),s()(e,"outline",this.isOutline),s()(e,"disabled",this.isDisabled),e},currentColor:function(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.colorType)||this.colorType},isOutline:function(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.outline)||this.outline},currentSize:function(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.size)||this.size},currentShape:function(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.shape)||this.shape},isDisabled:function(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.disabled)||this.disabled},isChecked:function(){return this.isGroup?this.hasCurrentLabel:this.currentValue},hasCurrentLabel:function(){return this.checkedList.indexOf(this.label)>-1}},watch:{value:{handler:function(e){this.currentValue=e,this.$refs.checkbox.checked=e}}},created:function(){this.findCptUpward("one-checkbox-group")},methods:{clickLabel:function(e){var t=this;this.isDisabled||(this.currentValue=!this.isChecked,this.isPreventDefault&&e.preventDefault(),this.isGroup&&(this.hasCurrentLabel?this.checkedList.splice(this.checkedList.indexOf(this.label),1):this.checkedList.push(this.label)),this.$nextTick((function(){var e,n;t.$emit("input",t.currentValue),t.$emit("change",t.currentValue),null===(e=t.$parent)||void 0===e||e.$emit("change",t.checkedList),null===(n=t.$parent)||void 0===n||n.$emit("input",t.checkedList)})))},findCptUpward:function(e){var t=this.$parent;t&&t.$options&&(t.$options._componentTag===e&&(this.parent=t,this.isGroup=!0,this.checkedList=this.parent.value),t=parent.parent)}}},o=(n("fcH4"),n("psIG")),r=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"one-checkbox",class:e.classType},[n("input",{ref:"checkbox",attrs:{type:"checkbox",disabled:e.isDisabled,label:e.label},domProps:{checked:e.isChecked},on:{"!click":function(t){return t.stopPropagation(),e.clickLabel(t)}}}),e._v(" "),e._t("default",[e.label?n("label",{staticClass:"one-checkbox--label font-body-md",class:e.classType},[e._v("\n      "+e._s(e.label)+"\n    ")]):e._e()])],2)}),[],!1,null,"3a19692d",null);t.a=r.exports},fcH4:function(e,t,n){"use strict";var i=n("A7aG");n.n(i).a},rWZA:function(e,t,n){"use strict";n.r(t);n("hi3g"),n("lYjL"),n("fp7Y"),n("3dw1");var i=n("fu9z"),s=n.n(i),c=n("C6ek"),o=n("f3R3"),r=n("Zb5R"),a=n("Pyhl"),u={components:{OneCheckbox:o.a,OneButton:r.default,gift:function(e){return n.e("product2077/gift").then(function(){return e(n("oYg/").default)}.bind(null,n)).catch(n.oe)},recommend:function(e){return n.e("product2077/recommend").then(function(){return e(n("gSll").default)}.bind(null,n)).catch(n.oe)},PopRecommend:function(e){return Promise.resolve().then(function(){return e(n("15oc").default)}.bind(null,n)).catch(n.oe)},popInsuranceTerms:function(e){return n.e("product2077/PopTerms").then(function(){return e(n("fUne").default)}.bind(null,n)).catch(n.oe)},popDownload:function(e){return n.e("product2077/popDownload").then(function(){return e(n("tjCP").default)}.bind(null,n)).catch(n.oe)}},props:{pointsInfo:{type:Object,default:function(){}},marketList:{type:Array,default:function(){return[]}},selectedSkuGift:{type:Object,default:function(){}},recommendList:{type:Array,default:function(){return[]}},insurance:{type:Object,default:function(){}},spuCode:{type:String,default:" "},selectedInsuranceList:{type:Array,default:function(){return[]}},isPreheatingStatus:{type:Boolean,default:!1}},data:function(){return{pop:{termsInit:!1,termsVisible:!1,recommendInit:!1,recommendVisible:!1,downloadInit:!1,downloadVisible:!1},clickInsuranceItem:{},selectedRecommendList:[],pointsInfoChecked:!0,freeInsuranceList:[]}},computed:{pointsInfoText:function(){var e,t;return null!==(e=this.pointsInfo)&&void 0!==e&&e.rewardRedCoins?this.$t("benefits.points",{num:null===(t=this.pointsInfo)||void 0===t?void 0:t.rewardRedCoins}):""},insuranceTerm:function(){return this.insurance.insuranceTerm||[]},markets:function(){return this.marketList.forEach((function(e){e.checked=!0})),this.marketList},isShowGift:function(){var e=!1,t=this.selectedSkuGift;return null!=t&&t.items&&(t._isAppExclusive?t._isAppExclusive&&(e=s.a.misc.isMobileBrowser||c.isInStoreAppEnv):e=!0),e},isOnlyRecommend:function(){return!this.marketList.length&&!this.pointsInfoText&&!(this.freeInsuranceList.length&&!this.isPreheatingStatus)&&!this.isShowGift&&this.recommendList.length}},watch:{selectedInsuranceList:{handler:function(e){this.setSelectedInsurance(e)},deep:!0,immediate:!0}},mounted:function(){this.getFreeInsuranceList()},methods:{clickInsurance:function(e){e.selected?(e.selected=!1,this.syncData()):(this.pop.termsInit=!0,this.pop.termsVisible=!0,this.clickInsuranceItem=e,Object(a.B)(this.spuCode,e.groupName))},syncData:function(){var e=this.freeInsuranceList.filter((function(e){return e.selected})),t=this.selectedInsuranceList.filter((function(e){return e.items.some((function(e){return Number(e.salePrice)>0}))}));e=e.concat(t),this.$emit("product-insurance",e)},setSelectedInsurance:function(e){var t=this;this.freeInsuranceList.forEach((function(n,i){n.selected=e.some((function(e){return n.selectSku===e.selectSku})),t.$set(t.freeInsuranceList,i,n)}))},getFreeInsuranceList:function(){this.freeInsuranceList=this.insurance.insuranceList.filter((function(e){return e.items.some((function(e){return Number(e.salePrice)<=0}))}))},addInsurance:function(e){this.freeInsuranceList.forEach((function(t){t.selectSku===e.selectSku&&(t.selected=!0)})),this.syncData()},benefitClick:function(e,t){e&&Object(a.B)(this.spuCode,t.desc)},popRecommend:function(){this.pop.recommendInit=!0,this.pop.recommendVisible=!0},openAppDownload:function(){this.pop.downloadInit=!0,this.pop.downloadVisible=!0},selectedRecommends:function(e){this.selectedRecommendList=e}}},l=(n("JAcJ"),n("psIG")),d=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-station__benefits",attrs:{id:"seeBenefits"}},[n("div",{staticClass:"benefits"},[n("div",{class:["product-station__benefits-title font-subheading-md",{"only-recommend":e.isOnlyRecommend}]},[e._v("\n      "+e._s(e.$t("benefits.title"))+"\n    ")]),e._v(" "),e.pointsInfoText?n("div",{staticClass:"product-station__benefits-points item font-body-md"},[n("one-checkbox",{staticClass:"check-box",attrs:{disabled:"",label:e.pointsInfoText,"color-type":"theme"},model:{value:e.pointsInfoChecked,callback:function(t){e.pointsInfoChecked=t},expression:"pointsInfoChecked"}})],1):e._e(),e._v(" "),e._l(e.markets,(function(t,i){return n("div",{key:i,staticClass:"product-station__benefits-content item"},[n("one-checkbox",{staticClass:"check-box",attrs:{label:t.desc,"color-type":"theme"},on:{change:function(n){return e.benefitClick(n,t)}},model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"item.checked"}},[n("span",{staticClass:"desc font-body-md flex"},[e._v("\n          "+e._s(t.desc)+"\n          "),e._v(" "),t.uriText?n("one-button",{attrs:{type:"link",underline:"",target:"_blank",href:t.uri}},[e._v("\n            "+e._s(t.uriText)+"\n          ")]):e._e()],1)])],1)})),e._v(" "),e.freeInsuranceList.length&&!e.isPreheatingStatus?e._l(e.freeInsuranceList,(function(t){return n("div",{key:t.selectSku,staticClass:"product-station__benefits-insurance item"},[n("one-checkbox",{staticClass:"check-box flex font-body-md",attrs:{value:t.selected,"is-prevent-default":!t.selected,label:e.$t("insurance.free")+" "+t.groupName,"color-type":"theme"},on:{change:function(n){return e.clickInsurance(t)}}})],1)})):e._e(),e._v(" "),e.isShowGift?n("div",{staticClass:"product-station__benefits-gift item"},[n("gift",{attrs:{"selected-sku-gift":e.selectedSkuGift},on:{"open-download":e.openAppDownload}})],1):e._e(),e._v(" "),e.recommendList.length?n("div",{staticClass:"product-station__benefits-recoms"},[n("recommend",{attrs:{recommends:e.recommendList,"selected-list":e.selectedRecommendList},on:{"open-recommend":e.popRecommend}})],1):e._e()],2),e._v(" "),e.pop.termsInit?n("pop-insurance-terms",{attrs:{"insurance-terms":e.insuranceTerm,insurance:e.clickInsuranceItem},on:{"add-insurance":e.addInsurance},model:{value:e.pop.termsVisible,callback:function(t){e.$set(e.pop,"termsVisible",t)},expression:"pop.termsVisible"}}):e._e(),e._v(" "),e.pop.recommendInit?n("pop-recommend",{ref:"productRecomsDialog",attrs:{"is-from-recommend":"","product-items":e.recommendList},on:{"add-recommend":e.selectedRecommends},model:{value:e.pop.recommendVisible,callback:function(t){e.$set(e.pop,"recommendVisible",t)},expression:"pop.recommendVisible"}}):e._e(),e._v(" "),e.pop.downloadInit?n("pop-download",{model:{value:e.pop.downloadVisible,callback:function(t){e.$set(e.pop,"downloadVisible",t)},expression:"pop.downloadVisible"}}):e._e()],1)}),[],!1,null,"bc4789fe",null);t.default=d.exports}}]);